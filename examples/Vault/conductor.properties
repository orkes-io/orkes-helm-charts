# Conductor Database Configuration
# Database credentials will be injected from Vault as environment variables
conductor.db.type=postgres

# PostgreSQL connection - using environment variables injected from Vault
# These will be populated by Vault secrets at runtime
spring.datasource.url=jdbc:postgresql://${DB_HOST}:${DB_PORT:5432}/${DB_NAME:conductor}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}

# Connection pool settings
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# Redis Configuration - using environment variables injected from Vault
conductor.redis.hosts=${REDIS_HOST}:${REDIS_PORT:6379}:us-east-1c
conductor.redis.password=${REDIS_PASSWORD}
conductor.redis.workflowExecutionPersistenceTTL=0
conductor.redis.queueShardSize=1

# Elasticsearch (optional - configure if using external Elasticsearch)
# conductor.elasticsearch.url=${ELASTICSEARCH_URL}
# conductor.elasticsearch.username=${ELASTICSEARCH_USER}
# conductor.elasticsearch.password=${ELASTICSEARCH_PASSWORD}

# Conductor settings
conductor.app.workflow-execution-lock-enabled=true
conductor.app.async-indexing-enabled=false
conductor.workflow-status-listener.type=archive

# Server settings
server.port=8080
spring.application.name=conductor-server

# Logging
logging.level.root=INFO
logging.level.com.netflix.conductor=INFO
