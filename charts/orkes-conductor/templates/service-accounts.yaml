apiVersion: v1
kind: ServiceAccount
metadata:
  name: conductor-app
  labels:
    {{- include "orkes-conductor.labels" . | nindent 4 }}
  annotations:
    {{- with (and .Values.serviceAccount .Values.serviceAccount.annotations (index .Values.serviceAccount.annotations "iam.gke.io/gcp-service-account")) }}
    iam.gke.io/gcp-service-account: {{ . | quote }}
    {{- end }}
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: conductor-workers-app
  labels:
    {{- include "orkes-conductor.labels" . | nindent 4 }}
  annotations:
    {{- with (and .Values.serviceAccount .Values.serviceAccount.annotations (index .Values.serviceAccount.annotations "iam.gke.io/gcp-service-account")) }}
    iam.gke.io/gcp-service-account: {{ . | quote }}
    {{- end }}