# Orkes Conductor Helm Chart Values
# This file contains the configuration values for deploying Orkes Conductor

## @section Global Parameters
## Global configuration that applies across all components
global:
  ## @param global.annotations Annotations to be applied to all deployments
  annotations: {}

  ## @param global.labels Labels to be applied to all resources
  labels:
    app: orkes-conductor

  ## @extra global.image Global image configuration
  image:
    ## @param global.image.registry Global container image registry
    registry: docker.io
    ## @param global.image.tag Global image tag (defaults to Chart.AppVersion)
    tag: ""
    ## @param global.image.pullPolicy Global image pull policy
    pullPolicy: IfNotPresent
    ## @param global.image.pullSecrets Global image pull secrets
    pullSecrets: []

  ## @extra global.ingress Global ingress configuration
  ingress:
    ## @param global.ingress.enabled Enable ingress for Conductor
    enabled: false
    ## @param global.ingress.className Ingress class name
    className: nginx
    ## @param global.ingress.host Ingress host name
    host: ""
    ## @param global.ingress.pathType Path type for ingress rules
    pathType: Prefix
    ## @param global.ingress.annotations Ingress annotations
    annotations:
      ingress.kubernetes.io/rewrite-target: "/"
      nginx.ingress.kubernetes.io/ssl-redirect: "true"
      nginx.ingress.kubernetes.io/proxy-buffer-size: "128k"
    ## @extra global.ingress.tls TLS configuration
    tls:
      ## @param global.ingress.tls.enabled Enable TLS
      enabled: false
      ## @param global.ingress.tls.secretName TLS secret name
      secretName: ""

  ## @extra global.secrets Global secrets configuration
  secrets:
    ## @param global.secrets.autoGenerated Auto-generate secrets
    autoGenerated: false
    ## @param global.secrets.name Secret name
    name: "conductor-credentials"
    ## @param global.secrets.annotations Secret annotations
    annotations:
      helm.sh/hook: 'pre-install'
      helm.sh/resource-policy: 'keep'

  ## @extra global.redis External Redis configuration
  redis:
    ## @param global.redis.enabled Use external Redis
    enabled: true
    ## @param global.redis.external Use external Redis instance
    external: true
    ## @param global.redis.host Redis host
    host: ""
    ## @param global.redis.port Redis port
    port: 6379
    ## @param global.redis.ssl Enable SSL for Redis
    ssl: false
    ## @param global.redis.sslEnabled Alternative SSL flag
    sslEnabled: false
    ## @param global.redis.clusterMode Enable cluster mode
    clusterMode: false
    ## @param global.redis.dbIndex Database index
    dbIndex: 0
    ## @param global.redis.zoneSuffix Zone suffix for Redis connection
    zoneSuffix: us-east-1c
    ## @extra global.redis.auth Redis authentication
    auth:
      ## @param global.redis.auth.username Redis username
      username: ""
      ## @param global.redis.auth.password Redis password
      password: ""
      ## @param global.redis.auth.existingSecret Existing secret for Redis credentials
      existingSecret: ""
      ## @param global.redis.auth.existingSecretPasswordKey Key for password in existing secret
      existingSecretPasswordKey: "redis-password"
    ## @extra global.redis.connection Connection pool settings
    connection:
      ## @param global.redis.connection.maxConnections Maximum connections
      maxConnections: 100
      ## @param global.redis.connection.minIdleConnections Minimum idle connections
      minIdleConnections: 10
      ## @param global.redis.connection.timeout Connection timeout
      timeout: 10000

  ## @extra global.postgres External PostgreSQL configuration
  postgres:
    ## @param global.postgres.enabled Use external PostgreSQL
    enabled: true
    ## @param global.postgres.external Use external PostgreSQL instance
    external: true
    ## @param global.postgres.host PostgreSQL host
    host: ""
    ## @param global.postgres.port PostgreSQL port
    port: 5432
    ## @param global.postgres.database Database name
    database: "conductor"
    ## @param global.postgres.url Full JDBC URL (takes precedence if specified)
    url: ""
    ## @extra global.postgres.auth PostgreSQL authentication
    auth:
      ## @param global.postgres.auth.username PostgreSQL username
      username: ""
      ## @param global.postgres.auth.password PostgreSQL password
      password: ""
      ## @param global.postgres.auth.existingSecret Existing secret for PostgreSQL credentials
      existingSecret: ""
      ## @param global.postgres.auth.existingSecretPasswordKey Key for password in existing secret
      existingSecretPasswordKey: "postgres-password"
    ## @extra global.postgres.ssl SSL configuration
    ssl:
      ## @param global.postgres.ssl.enabled Enable SSL
      enabled: false
      ## @param global.postgres.ssl.mode SSL mode (disable, allow, prefer, require, verify-ca, verify-full)
      mode: "require"
      ## @param global.postgres.ssl.cert SSL certificate
      cert: ""
      ## @param global.postgres.ssl.key SSL key
      key: ""
      ## @param global.postgres.ssl.rootCert Root certificate
      rootCert: ""
    ## @extra global.postgres.connection Connection pool settings
    connection:
      ## @param global.postgres.connection.maxPoolSize Maximum pool size
      maxPoolSize: 20
      ## @param global.postgres.connection.minPoolSize Minimum pool size
      minPoolSize: 5
      ## @param global.postgres.connection.timeout Connection timeout
      timeout: 30000

  ## @extra global.vault HashiCorp Vault configuration
  vault:
    ## @param global.vault.enabled Enable Vault integration
    enabled: false
    ## @extra global.vault.server Vault configuration for server
    server:
      ## @param global.vault.server.enabled Enable Vault for server
      enabled: false
      ## @param global.vault.server.role Vault role
      role: ""
      ## @param global.vault.server.serviceAccount Service account for Vault authentication
      serviceAccount: "conductor-app"
      ## @param global.vault.server.annotations Additional Vault annotations
      annotations: {}
      ## @param global.vault.server.envSecrets Environment variable mappings to Vault secrets
      ## Mock envSecrets for PostgreSQL and Redis persistence/secret variables:
      ##
      ## Basic configuration (recommended):
      ## envSecrets:
      ##   POSTGRES_PASSWORD: "secret/data/conductor/postgres#password"
      ##   POSTGRES_USERNAME: "secret/data/conductor/postgres#username"
      ##   REDIS_PASSWORD: "secret/data/conductor/redis#password"
      ##   REDIS_LOCK_SERVER_PASSWORD: "secret/data/conductor/redis#password"
      ##   JWT_SECRET: "secret/data/conductor/security#jwtSecret"
      ##
      ## Complete configuration with all supported variables:
      ## envSecrets:
      ##   # PostgreSQL persistence secrets
      ##   POSTGRES_PASSWORD: "secret/data/conductor/postgres#password"
      ##   POSTGRES_USERNAME: "secret/data/conductor/postgres#username"
      ##   POSTGRES_URL: "secret/data/conductor/postgres#jdbcUrl"  # Alternative to setting host/port/database separately
      ##   # Redis persistence secrets
      ##   REDIS_PASSWORD: "secret/data/conductor/redis#password"
      ##   REDIS_LOCK_SERVER_PASSWORD: "secret/data/conductor/redis#password"
      ##   REDIS_USERNAME: "secret/data/conductor/redis#username"  # For Redis ACL
      ##   REDIS_HOSTS: "secret/data/conductor/redis#hosts"  # Alternative to setting host/port separately
      ##   REDIS_LOCK_SERVER_ADDRESS: "secret/data/conductor/redis#lockServerAddress"
      ##   # Security secrets
      ##   JWT_SECRET: "secret/data/conductor/security#jwtSecret"
      ##
      ## Environment-specific configuration:
      ## envSecrets:
      ##   POSTGRES_PASSWORD: "secret/data/conductor/production/postgres#password"
      ##   POSTGRES_USERNAME: "secret/data/conductor/production/postgres#username"
      ##   REDIS_PASSWORD: "secret/data/conductor/production/redis#password"
      ##   REDIS_LOCK_SERVER_PASSWORD: "secret/data/conductor/production/redis#password"
      ##   JWT_SECRET: "secret/data/conductor/production/security#jwtSecret"
      envSecrets: {}
    ## @extra global.vault.workers Vault configuration for workers
    workers:
      ## @param global.vault.workers.enabled Enable Vault for workers
      enabled: false
      ## @param global.vault.workers.role Vault role
      role: ""
      ## @param global.vault.workers.serviceAccount Service account for Vault authentication
      serviceAccount: "conductor-workers-app"
      ## @param global.vault.workers.annotations Additional Vault annotations
      annotations: {}
      ## @param global.vault.workers.envSecrets Environment variable mappings to Vault secrets
      ## Mock envSecrets for worker authentication:
      ##
      ## Basic configuration:
      ## envSecrets:
      ##   ACCESS_KEY_ID: "secret/data/conductor/workers#keyId"
      ##   ACCESS_KEY_SECRET: "secret/data/conductor/workers#secret"
      ##
      ## Environment-specific configuration:
      ## envSecrets:
      ##   ACCESS_KEY_ID: "secret/data/conductor/production/workers#keyId"
      ##   ACCESS_KEY_SECRET: "secret/data/conductor/production/workers#secret"
      ##   JWT_REFRESH_INTERVAL: "secret/data/conductor/production/security#jwtRefreshInterval"
      envSecrets: {}

## @section Naming Parameters
## @param nameOverride Override the name of the chart
nameOverride: ""
## @param fullnameOverride Override the full name of the chart
fullnameOverride: ""

## @section Conductor Server Parameters
## Conductor Server configuration
server:
  ## @param server.enabled Enable Conductor Server deployment
  enabled: true

  ## @param server.name Server deployment name
  name: "orkes-conductor-server"

  ## @param server.replicas Number of server replicas
  replicas: 3

  ## @extra server.image Server image configuration
  image:
    ## @param server.image.registry Server image registry
    registry: ""  # Uses global.image.registry if not set
    ## @param server.image.repository Server image repository
    repository: orkesio/orkes-conductor-server
    ## @param server.image.tag Server image tag (defaults to Chart.AppVersion or global.image.tag)
    tag: ""
    ## @param server.image.pullPolicy Server image pull policy
    pullPolicy: IfNotPresent
    ## @param server.image.pullSecrets Server image pull secrets
    pullSecrets: []

  ## @extra server.service Server service configuration
  service:
    ## @param server.service.type Service type
    type: ClusterIP
    ## @param server.service.port Service port
    port: 5000
    ## @param server.service.appPort Application port
    appPort: 8080
    ## @param server.service.grpcPort gRPC port
    grpcPort: 8090
    ## @param server.service.annotations Service annotations
    annotations: {}

  ## @extra server.configuration Server application configuration
  configuration:
    ## @param server.configuration.env Environment (aws, gcp, azure, local)
    env: aws
    ## @param server.configuration.s3Region AWS S3 region
    s3Region: "us-east-1"
    ## @param server.configuration.springProfilesActive Spring profiles active
    springProfilesActive: "logrotate,postgres"
    ## @param server.configuration.jvmSettings JVM settings
    jvmSettings: "-Xms1500M -Xmx2500M"
    ## @param server.configuration.logLevel Log level
    logLevel: info
    ## @param server.configuration.swaggerUrl Swagger URL path
    swaggerUrl: "/"
    ## @param server.configuration.customLogoUrl Custom logo URL
    customLogoUrl: ""

    ## @extra server.configuration.workflow Workflow configuration
    workflow:
      ## @param server.configuration.workflow.sweepBatchSize Sweep batch size
      sweepBatchSize: "20"
      ## @param server.configuration.workflow.sweeperThreadCount Sweeper thread count
      sweeperThreadCount: "20"
      ## @param server.configuration.workflow.sweepFrequencyMillis Sweep frequency in milliseconds
      sweepFrequencyMillis: "1"
      ## @param server.configuration.workflow.executionLockEnabled Enable workflow execution lock
      executionLockEnabled: "true"
      ## @param server.configuration.workflow.maxParallelSystemTasks Maximum parallel system tasks
      maxParallelSystemTasks: 1024

      ## @extra server.configuration.workflow.introspection Workflow introspection configuration
      introspection:
        ## @param server.configuration.workflow.introspection.enabled Enable workflow introspection
        enabled: false
        ## @param server.configuration.workflow.introspection.recordExpirationInSeconds Record expiration in seconds
        recordExpirationInSeconds: 86400
        ## @param server.configuration.workflow.introspection.batchInsertIntervalInMillis Batch insert interval in milliseconds
        batchInsertIntervalInMillis: 1000

    ## @extra server.configuration.scheduler Scheduler configuration
    scheduler:
      ## @param server.configuration.scheduler.pollingInterval Scheduler polling interval
      pollingInterval: "50"
      ## @param server.configuration.scheduler.pollBatchSize Scheduler poll batch size
      pollBatchSize: "10"

    ## @extra server.configuration.archive Archive configuration
    archive:
      ## @param server.configuration.archive.storeType Archive store type (postgres, s3, azureblob, gcp)
      storeType: "postgres"
      ## @param server.configuration.archive.s3BucketName S3 bucket name (required if storeType=s3)
      s3BucketName: ""
      ## @param server.configuration.archive.azureBlobContainerName Azure blob container name (required if storeType=azureblob)
      azureBlobContainerName: ""
      ## @param server.configuration.archive.azureBlobEndpoint Azure blob endpoint (required if storeType=azureblob)
      azureBlobEndpoint: ""
      ## @param server.configuration.archive.azureUseSASToken Use SAS token for Azure
      azureUseSASToken: "false"
      ## @param server.configuration.archive.uploaderThreadCount Document store uploader thread count
      uploaderThreadCount: "15"

      ## @extra server.configuration.archive.indexer Archive indexer configuration
      indexer:
        ## @param server.configuration.archive.indexer.threadCount DB indexer thread count
        threadCount: "5"
        ## @param server.configuration.archive.indexer.pollingInterval DB indexer polling interval
        pollingInterval: "1"
        ## @param server.configuration.archive.indexer.pollBatchSize DB indexer poll batch size
        pollBatchSize: "30"

    ## @extra server.configuration.cache Cache configuration
    cache:
      ## @extra server.configuration.cache.workflowDefinition Workflow definition cache
      workflowDefinition:
        ## @param server.configuration.cache.workflowDefinition.refreshIntervalInSeconds Refresh interval in seconds (0 = disabled)
        refreshIntervalInSeconds: 0
        ## @param server.configuration.cache.workflowDefinition.maxSize Maximum cache size
        maxSize: 1000
      ## @extra server.configuration.cache.taskDefinition Task definition cache
      taskDefinition:
        ## @param server.configuration.cache.taskDefinition.refreshIntervalInSeconds Refresh interval in seconds
        refreshIntervalInSeconds: 60
        ## @param server.configuration.cache.taskDefinition.maxSize Maximum cache size
        maxSize: 1000

    ## @extra server.configuration.limits Resource limits
    limits:
      ## @param server.configuration.limits.maxWorkflowSizeInMiB Maximum workflow size in MiB
      maxWorkflowSizeInMiB: "20"
      ## @param server.configuration.limits.maxTaskSizeInKiB Maximum task size in KiB
      maxTaskSizeInKiB: "200"
      ## @param server.configuration.limits.maxTaskInWorkflowExecution Maximum tasks in workflow execution
      maxTaskInWorkflowExecution: "1000"
      ## @param server.configuration.limits.maxTaskInWorkflowDefinition Maximum tasks in workflow definition
      maxTaskInWorkflowDefinition: "1000"

    ## @extra server.configuration.features Feature flags
    features:
      ## @param server.configuration.features.apiRateLimiterEnabled Enable API rate limiter
      apiRateLimiterEnabled: "true"
      ## @param server.configuration.features.humanTasksEnabled Enable human tasks
      humanTasksEnabled: "false"
      ## @param server.configuration.features.apiOrchestrationEnabled Enable API orchestration
      apiOrchestrationEnabled: "false"
      ## @param server.configuration.features.grpcServerEnabled Enable gRPC server
      grpcServerEnabled: "false"

    ## @param server.configuration.systemTaskMaxPollCount System task max poll count
    systemTaskMaxPollCount: "20"
    ## @param server.configuration.lockTimeToTry Lock time to try
    lockTimeToTry: "75"

  ## @extra server.resources Resource requests and limits
  resources:
    ## @extra server.resources.requests Resource requests
    requests:
      ## @param server.resources.requests.cpu CPU request
      cpu: "2"
      ## @param server.resources.requests.memory Memory request
      memory: "2Gi"
    ## @extra server.resources.limits Resource limits
    limits:
      ## @param server.resources.limits.cpu CPU limit
      cpu: "3"
      ## @param server.resources.limits.memory Memory limit
      memory: "3Gi"

  ## @extra server.serviceAccount Service account configuration
  serviceAccount:
    ## @param server.serviceAccount.enabled Enable service account
    enabled: true
    ## @param server.serviceAccount.name Service account name
    name: "conductor-app"
    ## @param server.serviceAccount.annotations Service account annotations
    annotations: {}
    ## @param server.serviceAccount.automountServiceAccountToken Automount service account token
    automountServiceAccountToken: false

  ## @extra server.podSecurityContext Pod security context
  podSecurityContext:
    ## @param server.podSecurityContext.runAsNonRoot Run as non-root
    runAsNonRoot: true
    ## @param server.podSecurityContext.fsGroup Filesystem group
    fsGroup: 1001
    ## @extra server.podSecurityContext.seccompProfile Seccomp profile
    seccompProfile:
      ## @param server.podSecurityContext.seccompProfile.type Seccomp profile type
      type: RuntimeDefault

  ## @extra server.containerSecurityContext Container security context
  containerSecurityContext:
    ## @param server.containerSecurityContext.allowPrivilegeEscalation Allow privilege escalation
    allowPrivilegeEscalation: false
    ## @param server.containerSecurityContext.privileged Run as privileged
    privileged: false
    ## @param server.containerSecurityContext.readOnlyRootFilesystem Read-only root filesystem
    readOnlyRootFilesystem: true
    ## @param server.containerSecurityContext.runAsNonRoot Run as non-root
    runAsNonRoot: true
    ## @param server.containerSecurityContext.runAsUser Run as user ID
    runAsUser: 1001
    ## @extra server.containerSecurityContext.seccompProfile Seccomp profile
    seccompProfile:
      ## @param server.containerSecurityContext.seccompProfile.type Seccomp profile type
      type: RuntimeDefault

  ## @extra server.startupProbe Startup probe configuration
  startupProbe:
    ## @param server.startupProbe.enabled Enable startup probe
    enabled: false
    ## @param server.startupProbe.scheme Probe scheme (HTTP/HTTPS)
    scheme: HTTP
    ## @param server.startupProbe.probePath Probe path
    probePath: /health
    ## @param server.startupProbe.initialDelaySeconds Initial delay seconds
    initialDelaySeconds: 30
    ## @param server.startupProbe.periodSeconds Period seconds
    periodSeconds: 10
    ## @param server.startupProbe.successThreshold Success threshold
    successThreshold: 1
    ## @param server.startupProbe.failureThreshold Failure threshold
    failureThreshold: 30
    ## @param server.startupProbe.timeoutSeconds Timeout seconds
    timeoutSeconds: 1

  ## @extra server.readinessProbe Readiness probe configuration
  readinessProbe:
    ## @param server.readinessProbe.enabled Enable readiness probe
    enabled: true
    ## @param server.readinessProbe.scheme Probe scheme (HTTP/HTTPS)
    scheme: HTTP
    ## @param server.readinessProbe.probePath Probe path
    probePath: /health
    ## @param server.readinessProbe.initialDelaySeconds Initial delay seconds
    initialDelaySeconds: 30
    ## @param server.readinessProbe.periodSeconds Period seconds
    periodSeconds: 30
    ## @param server.readinessProbe.successThreshold Success threshold
    successThreshold: 1
    ## @param server.readinessProbe.failureThreshold Failure threshold
    failureThreshold: 5
    ## @param server.readinessProbe.timeoutSeconds Timeout seconds
    timeoutSeconds: 1

  ## @extra server.livenessProbe Liveness probe configuration
  livenessProbe:
    ## @param server.livenessProbe.enabled Enable liveness probe
    enabled: false
    ## @param server.livenessProbe.scheme Probe scheme (HTTP/HTTPS)
    scheme: HTTP
    ## @param server.livenessProbe.probePath Probe path
    probePath: /health
    ## @param server.livenessProbe.initialDelaySeconds Initial delay seconds
    initialDelaySeconds: 30
    ## @param server.livenessProbe.periodSeconds Period seconds
    periodSeconds: 30
    ## @param server.livenessProbe.successThreshold Success threshold
    successThreshold: 1
    ## @param server.livenessProbe.failureThreshold Failure threshold
    failureThreshold: 5
    ## @param server.livenessProbe.timeoutSeconds Timeout seconds
    timeoutSeconds: 1

  ## @param server.podAnnotations Pod annotations
  podAnnotations: {}
  ## @param server.podLabels Pod labels
  podLabels: {}
  ## @param server.nodeSelector Node selector
  nodeSelector: {}
  ## @param server.tolerations Tolerations
  tolerations: []
  ## @param server.affinity Affinity rules
  affinity: {}
  ## @param server.priorityClassName Priority class name
  priorityClassName: ""

  ## @param server.env Additional environment variables
  env: []
  ## @param server.envFrom Environment variables from ConfigMap/Secret
  envFrom: []
  ## @param server.command Override container command
  command: []
  ## @param server.extraVolumes Extra volumes
  extraVolumes: []
  ## @param server.extraVolumeMounts Extra volume mounts
  extraVolumeMounts: []
  ## @param server.initContainers Init containers
  initContainers: []
  ## @param server.sidecars Sidecar containers
  sidecars: []

## @section Conductor Workers Parameters
## Conductor Workers configuration
workers:
  ## @param workers.enabled Enable Conductor Workers deployment
  enabled: true

  ## @param workers.name Workers deployment name
  name: "orkes-conductor-workers"

  ## @param workers.replicas Number of worker replicas
  replicas: 2

  ## @extra workers.image Workers image configuration
  image:
    ## @param workers.image.registry Workers image registry
    registry: ""  # Uses global.image.registry if not set
    ## @param workers.image.repository Workers image repository
    repository: orkesio/orkes-conductor-workers
    ## @param workers.image.tag Workers image tag (defaults to Chart.AppVersion or global.image.tag)
    tag: ""
    ## @param workers.image.pullPolicy Workers image pull policy
    pullPolicy: IfNotPresent
    ## @param workers.image.pullSecrets Workers image pull secrets
    pullSecrets: []

  ## @extra workers.configuration Workers application configuration
  configuration:
    ## @param workers.configuration.clusterName Cluster name
    clusterName: "orkes-conductor"
    ## @param workers.configuration.springProfilesActive Spring profiles active
    springProfilesActive: "logrotate"
    ## @param workers.configuration.jvmSettings JVM settings
    jvmSettings: "-Xms750M -Xmx1500M"
    ## @param workers.configuration.blockIps Blocked IP addresses
    blockIps: "127.0.0.1"

  ## @extra workers.auth Workers authentication
  auth:
    ## @param workers.auth.accessKeyId Access key ID
    accessKeyId: ""
    ## @param workers.auth.accessKeySecret Access key secret
    accessKeySecret: ""
    ## @param workers.auth.existingSecret Existing secret for credentials
    existingSecret: ""
    ## @param workers.auth.existingSecretKeyIdKey Key for access key ID in existing secret
    existingSecretKeyIdKey: "access-key-id"
    ## @param workers.auth.existingSecretSecretKey Key for access key secret in existing secret
    existingSecretSecretKey: "access-key-secret"

  ## @extra workers.resources Resource requests and limits
  resources:
    ## @extra workers.resources.requests Resource requests
    requests:
      ## @param workers.resources.requests.cpu CPU request
      cpu: "1"
      ## @param workers.resources.requests.memory Memory request
      memory: "1Gi"
    ## @extra workers.resources.limits Resource limits
    limits:
      ## @param workers.resources.limits.cpu CPU limit
      cpu: "2"
      ## @param workers.resources.limits.memory Memory limit
      memory: "2Gi"

  ## @extra workers.serviceAccount Service account configuration
  serviceAccount:
    ## @param workers.serviceAccount.enabled Enable service account
    enabled: true
    ## @param workers.serviceAccount.name Service account name
    name: "conductor-workers-app"
    ## @param workers.serviceAccount.annotations Service account annotations
    annotations: {}
    ## @param workers.serviceAccount.automountServiceAccountToken Automount service account token
    automountServiceAccountToken: false

  ## @extra workers.podSecurityContext Pod security context
  podSecurityContext:
    ## @param workers.podSecurityContext.runAsNonRoot Run as non-root
    runAsNonRoot: true
    ## @param workers.podSecurityContext.fsGroup Filesystem group
    fsGroup: 1001
    ## @extra workers.podSecurityContext.seccompProfile Seccomp profile
    seccompProfile:
      ## @param workers.podSecurityContext.seccompProfile.type Seccomp profile type
      type: RuntimeDefault

  ## @extra workers.containerSecurityContext Container security context
  containerSecurityContext:
    ## @param workers.containerSecurityContext.allowPrivilegeEscalation Allow privilege escalation
    allowPrivilegeEscalation: false
    ## @param workers.containerSecurityContext.privileged Run as privileged
    privileged: false
    ## @param workers.containerSecurityContext.readOnlyRootFilesystem Read-only root filesystem
    readOnlyRootFilesystem: true
    ## @param workers.containerSecurityContext.runAsNonRoot Run as non-root
    runAsNonRoot: true
    ## @param workers.containerSecurityContext.runAsUser Run as user ID
    runAsUser: 1001
    ## @extra workers.containerSecurityContext.seccompProfile Seccomp profile
    seccompProfile:
      ## @param workers.containerSecurityContext.seccompProfile.type Seccomp profile type
      type: RuntimeDefault

  ## @extra workers.startupProbe Startup probe configuration
  startupProbe:
    ## @param workers.startupProbe.enabled Enable startup probe
    enabled: false
    ## @param workers.startupProbe.scheme Probe scheme (HTTP/HTTPS)
    scheme: HTTP
    ## @param workers.startupProbe.probePath Probe path
    probePath: /actuator/health
    ## @param workers.startupProbe.initialDelaySeconds Initial delay seconds
    initialDelaySeconds: 30
    ## @param workers.startupProbe.periodSeconds Period seconds
    periodSeconds: 30
    ## @param workers.startupProbe.successThreshold Success threshold
    successThreshold: 1
    ## @param workers.startupProbe.failureThreshold Failure threshold
    failureThreshold: 5
    ## @param workers.startupProbe.timeoutSeconds Timeout seconds
    timeoutSeconds: 1

  ## @extra workers.readinessProbe Readiness probe configuration
  readinessProbe:
    ## @param workers.readinessProbe.enabled Enable readiness probe
    enabled: true
    ## @param workers.readinessProbe.scheme Probe scheme (HTTP/HTTPS)
    scheme: HTTP
    ## @param workers.readinessProbe.probePath Probe path
    probePath: /actuator/health
    ## @param workers.readinessProbe.initialDelaySeconds Initial delay seconds
    initialDelaySeconds: 30
    ## @param workers.readinessProbe.periodSeconds Period seconds
    periodSeconds: 30
    ## @param workers.readinessProbe.successThreshold Success threshold
    successThreshold: 1
    ## @param workers.readinessProbe.failureThreshold Failure threshold
    failureThreshold: 5
    ## @param workers.readinessProbe.timeoutSeconds Timeout seconds
    timeoutSeconds: 1

  ## @extra workers.livenessProbe Liveness probe configuration
  livenessProbe:
    ## @param workers.livenessProbe.enabled Enable liveness probe
    enabled: false
    ## @param workers.livenessProbe.scheme Probe scheme (HTTP/HTTPS)
    scheme: HTTP
    ## @param workers.livenessProbe.probePath Probe path
    probePath: /actuator/health
    ## @param workers.livenessProbe.initialDelaySeconds Initial delay seconds
    initialDelaySeconds: 30
    ## @param workers.livenessProbe.periodSeconds Period seconds
    periodSeconds: 30
    ## @param workers.livenessProbe.successThreshold Success threshold
    successThreshold: 1
    ## @param workers.livenessProbe.failureThreshold Failure threshold
    failureThreshold: 5
    ## @param workers.livenessProbe.timeoutSeconds Timeout seconds
    timeoutSeconds: 1

  ## @param workers.podAnnotations Pod annotations
  podAnnotations: {}
  ## @param workers.podLabels Pod labels
  podLabels: {}
  ## @param workers.nodeSelector Node selector
  nodeSelector: {}
  ## @param workers.tolerations Tolerations
  tolerations: []
  ## @param workers.affinity Affinity rules
  affinity: {}
  ## @param workers.priorityClassName Priority class name
  priorityClassName: ""

  ## @param workers.env Additional environment variables
  env: []
  ## @param workers.envFrom Environment variables from ConfigMap/Secret
  envFrom: []
  ## @param workers.command Override container command
  command: []
  ## @param workers.extraVolumes Extra volumes
  extraVolumes: []
  ## @param workers.extraVolumeMounts Extra volume mounts
  extraVolumeMounts: []
  ## @param workers.initContainers Init containers
  initContainers: []
  ## @param workers.sidecars Sidecar containers
  sidecars: []

## @section Security Parameters
## Security and authentication configuration
security:
  ## @param security.enabled Enable security features
  enabled: false
  ## @param security.allowedOrigins Allowed CORS origins
  allowedOrigins: "*"
  ## @param security.overwriteDefault Overwrite default security settings
  overwriteDefault: true
  ## @param security.createUserOnAuthentication Create user on authentication
  createUserOnAuthentication: false
  ## @param security.jwtExpiry JWT expiry time in seconds
  jwtExpiry: 3600
  ## @param security.defaultUserGroupsOnCreate Default user groups on create
  defaultUserGroupsOnCreate: all_users
  ## @param security.defaultUserEmail Default user email
  defaultUserEmail: ""
  ## @param security.defaultUserName Default user name
  defaultUserName: ""

  ## @extra security.jwt JWT configuration
  jwt:
    ## @param security.jwt.secret JWT secret (generate with: openssl rand -base64 172 | tr -d '\n')
    secret: ""
    ## @param security.jwt.existingSecret Existing secret for JWT
    existingSecret: ""
    ## @param security.jwt.existingSecretKey Key in existing secret
    existingSecretKey: "jwt-secret"

  ## @extra security.auth0 Auth0 configuration
  auth0:
    ## @param security.auth0.enabled Enable Auth0 integration
    enabled: false
    ## @param security.auth0.useIdToken Use ID token
    useIdToken: true
    ## @param security.auth0.clientId Auth0 client ID
    clientId: ""
    ## @param security.auth0.clientSecret Auth0 client secret
    clientSecret: ""
    ## @param security.auth0.domain Auth0 domain
    domain: ""

  ## @extra security.oidc OIDC configuration
  oidc:
    ## @param security.oidc.enabled Enable OIDC integration
    enabled: false
    ## @param security.oidc.clientId OIDC client ID
    clientId: ""
    ## @param security.oidc.audience OIDC audience
    audience: ""
    ## @param security.oidc.metadataUrl OIDC metadata URL
    metadataUrl: ""
    ## @param security.oidc.emailClaim OIDC email claim
    emailClaim: ""

  ## @extra security.okta Okta configuration
  okta:
    ## @param security.okta.enabled Enable Okta integration
    enabled: false
    ## @param security.okta.clientId Okta client ID
    clientId: ""
    ## @param security.okta.audience Okta audience
    audience: ""
    ## @param security.okta.issuer Okta issuer
    issuer: ""
    ## @param security.okta.useInteractionCodeFlow Use interaction code flow
    useInteractionCodeFlow: false
    ## @param security.okta.idpConf IDP configuration
    idpConf: ""

## @section Secrets Management Parameters
## Secrets management configuration
secrets:
  ## @param secrets.type Secrets type (memory, ssm, gcp, azkv)
  type: memory
  ## @param secrets.ssmPath AWS SSM path
  ssmPath: ""
  ## @param secrets.gsmPath GCP Secrets Manager path
  gsmPath: ""
  ## @param secrets.azureKeyVaultName Azure Key Vault name
  azureKeyVaultName: ""

## @section Image Pull Secrets Parameters
## Image pull secrets configuration
imageCredentials:
  ## @param imageCredentials.enabled Create image pull secret
  enabled: true
  ## @param imageCredentials.registry Registry URL
  registry: https://index.docker.io/v1/
  ## @param imageCredentials.username Registry username
  username: orkesdocker
  ## @param imageCredentials.email Registry email
  email: dockeracess@orkes.io
  ## @param imageCredentials.password Registry password
  password: ""
  ## @param imageCredentials.existingSecret Existing secret name
  existingSecret: ""

## @extra customImagePullSecrets Custom image pull secrets configuration
customImagePullSecrets:
  ## @param customImagePullSecrets.enabled Enable custom image pull secrets
  enabled: false
  ## @param customImagePullSecrets.name Secret name
  name: "custom-registry-secret"
  ## @param customImagePullSecrets.registries List of registry credentials
  registries:
    - registry: "my-registry.example.com"
      username: ""
      password: ""
      email: ""

## @section Custom Trust Store Parameters
## Custom trust store configuration
trustStore:
  ## @param trustStore.enabled Enable custom trust store
  enabled: false
  ## @param trustStore.jksFileName JKS filename
  jksFileName: ""
  ## @param trustStore.jksFilePassword JKS password
  jksFilePassword: ""

## @section Additional Parameters
## @param extraObjects Extra Kubernetes objects to create
extraObjects: []

## @section Deprecated/Legacy Parameters (for backward compatibility)
## These parameters are deprecated and maintained for backward compatibility only

## @skip app Legacy app configuration (deprecated)
app:
  replicaCount: 3
  env: aws
  s3Region: "us-east-1"
  springProfilesActive: "logrotate,postgres"
  sweepBatchSize: "20"
  schedulerPollingInterval: "50"
  lockTimeToTry: "75"
  documentStoreUploaderThreadCount: "15"
  dbIndexerThreadCount: "5"
  dbIndexerPollingInterval: "1"
  swaggerUrl: "/"
  sweeperThreadCount: "20"
  schedulerPollBatchSize: "10"
  dbIndexerPollBatchSize: "30"
  sweepFrequencyMillis: "1"
  jvmSettings: "-Xms1500M -Xmx2500M"
  systemTaskMaxPollCount: "20"
  workflowExecutionLockEnabled: "true"
  limits:
    maxWorkflowSizeInMiB: "20"
    maxTaskSizeInKiB: "200"
    maxTaskInWorkflowExecution: "1000"
    maxTaskInWorkflowDefinition: "1000"
  apiRateLimiterEnabled: "true"
  humanTasksEnabled: "false"
  documentStoreS3BucketName:
  documentStoreAzureBlobContainerName:
  documentStoreAzureBlobEndpoint:
  documentStoreAzureUseSASToken: "false"
  customLogoUrl:
  archiveStoreType: "postgres"
  apiOrchestrationEnabled: "false"
  grpcServerEnabled: "false"
  resources:
    cpuLimit: "3"
    memoryLimit: "3Gi"
    cpuRequests: "2"
    memoryRequests: "2Gi"
  workflowDefinitionCache:
    refreshIntervalInSeconds: 0
    maxSize: 1000
  taskDefinitionCache:
    refreshIntervalInSeconds: 60
    maxSize: 1000
  workflowIntrospection:
    enabled: false
    recordExpirationInSeconds: 86400
    batchInsertIntervalInMillis: 1000

## @skip image Legacy image configuration (deprecated - use server.image)
image:
  repository: orkesio/orkes-conductor-server
  pullPolicy: IfNotPresent
  livenessPort: 5000

## @skip workerImage Legacy worker image configuration (deprecated - use workers.image)
workerImage:
  repository: orkesio/orkes-conductor-workers
  pullPolicy: IfNotPresent

## @skip service Legacy service configuration (deprecated - use server.service)
service:
  port: 5000
  appPort: 8080
  grpcPort: 8090

## @skip workersConfig Legacy workers configuration (deprecated - use workers.*)
workersConfig:
  env:
    ORKES_CLUSTER_NAME: "orkes-conductor"
  replicaCount: 2
  accessKeyId: ""
  accessKeySecret: ""
  springProfilesActive: "logrotate"
  blockIps: "127.0.0.1"
  jvmSettings: "-Xms750M -Xmx1500M"
  resources:
    cpuLimit: "2"
    memoryLimit: "2Gi"
    cpuRequests: "1"
    memoryRequests: "1Gi"

## @skip redis Legacy Redis configuration (deprecated - use global.redis)
redis:
  host: ""
  port: 6379
  ssl: false
  sslEnabled: false
  password: ""
  username: ""
  dbIndex: 0
  clusterMode: false
  zoneSuffix: us-east-1c
  maxConnections: 100
  minIdleConnections: 10
  connectionTimeout: 10000

## @skip postgres Legacy PostgreSQL configuration (deprecated - use global.postgres)
postgres:
  host: ""
  port: 5432
  database: "conductor"
  username: ""
  password: ""
  url: ""
  ssl:
    enabled: false
    mode: "require"
    cert: ""
    key: ""
    rootCert: ""
  maxPoolSize: 20
  minPoolSize: 5
  connectionTimeout: 30000

## @skip conductor Legacy conductor configuration (deprecated)
conductor:
  env: {}
  persistence:
    type: postgres
  workflow:
    execution:
      maxParallelSystemTasks: 1024

## @skip vault Legacy Vault configuration (deprecated - use global.vault)
vault:
  enabled: false
  server:
    enabled: false
    role: ""
    path: ""
    secretPath: ""
    serviceAccount: "conductor-app"
    annotations: {}
    envSecrets: {}
  workers:
    enabled: false
    role: ""
    path: ""
    secretPath: ""
    serviceAccount: "conductor-workers-app"
    annotations: {}
    envSecrets: {}

## @skip serviceAccount Legacy service account configuration (deprecated)
serviceAccount:
  annotations: {}

## @skip useOrkesDeploymentSecrets Legacy secret management flag (deprecated)
useOrkesDeploymentSecrets: true

## @skip enableCustomTrustStore Legacy trust store flag (deprecated - use trustStore.enabled)
enableCustomTrustStore: false
